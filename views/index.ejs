<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>
</head>
<body>
    <div id="main" style="display: none;"></div>
    <div id="chartContainer1" style="height: 370px; width: 100%;"></div>
    <div id="chartContainer2" style="height: 370px; width: 100%;"></div>
    <div id="chartContainer3" style="height: 370px; width: 100%;"></div>
    <div id="chartContainer4" style="height: 370px; width: 100%;"></div>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script>
        window.onload = function () {
            var data =JSON. parse(document.getElementById('main').innerHTML);
            var dataPoints = [];
            console.log(data);
            var chart = new CanvasJS.Chart("chartContainer1", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Road 1"
                },
                axisY: {
                    includeZero: false
                },
                data: [{
                    type: "line",
                    dataPoints: dataPoints
                }]
            });
            var chart2 = new CanvasJS.Chart("chartContainer2", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Road 2"
                },
                axisY: {
                    includeZero: false
                },
                data: [{
                    type: "line",
                    dataPoints: dataPoints
                }]
            });
            var chart3 = new CanvasJS.Chart("chartContainer3", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Road 3"
                },
                axisY: {
                    includeZero: false
                },
                data: [{
                    type: "line",
                    dataPoints: dataPoints
                }]
            });

            function addData1(data) {
                for (var i = 0; i < data.length; i++) {
                    dataPoints.push({
                        x: data[i].TIMEST,
                        y: data[i].road1
                    });
                }
                chart.render();

            }
            addData1(data);
            function addData2(data) {
                for (var i = 0; i < data.length; i++) {
                    dataPoints.push({
                        x: data[i].TIMEST,
                        y: data[i].road2
                    });
                }
                chart2.render();

            }
            addData2(data);
            function addData3(data) {
                for (var i = 0; i < data.length; i++) {
                    dataPoints.push({
                        x: data[i].TIMEST,
                        y: data[i].road3
                    });
                }
                chart3.render();

            }
            addData3(data);
            var chart4 = new CanvasJS.Chart("chartContainer4", {
                animationEnabled: true,
                theme: "light2",
                title: {
                    text: "Road 4"
                },
                axisY: {
                    includeZero: false
                },
                data: [{
                    type: "line",
                    dataPoints: dataPoints
                }]
            });

            function addData4(data) {
                for (var i = 0; i < data.length; i++) {
                    dataPoints.push({
                        x: data[i].TIMEST,
                        y: data[i].road4
                    });
                }
                chart4.render();

            }
            addData4(data);
            
        }
    </script>


    // <script type="module" src="js/index.js"></script>
</body>
</html>